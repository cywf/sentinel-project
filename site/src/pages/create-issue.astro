---
import Layout from '../layouts/Layout.astro';

const issueTemplates = [
  {
    title: 'Bug Report',
    description: 'Report a bug or unexpected behavior',
    labels: 'bug',
    template: 'bug_report.md',
  },
  {
    title: 'Feature Request',
    description: 'Suggest a new feature or enhancement',
    labels: 'enhancement',
    template: 'feature_request.md',
  },
  {
    title: 'Security Vulnerability',
    description: 'Report a security issue (please see SECURITY.md first)',
    labels: 'security',
    template: 'security_vulnerability.md',
  },
  {
    title: 'Documentation',
    description: 'Improve or add documentation',
    labels: 'documentation',
    template: 'documentation.md',
  },
];
---

<Layout title="Create Issue">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="prose max-w-none mb-8">
      <h1 class="text-4xl font-bold mb-4 text-base-content">
        <svg xmlns="http://www.w3.org/2000/svg" class="inline-block h-10 w-10 mr-3 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
        </svg>
        Create an Issue
      </h1>
      <p class="text-lg text-base-content/80">
        Choose an issue template to get started, or create a blank issue.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 mb-8">
      {issueTemplates.map((template) => (
        <div class="card bg-base-200 hover:bg-base-300 transition-colors">
          <div class="card-body">
            <h2 class="card-title text-xl">{template.title}</h2>
            <p class="text-base-content/80">{template.description}</p>
            <div class="card-actions justify-end mt-4">
              <a
                href={`https://github.com/cywf/sentinel-project/issues/new?labels=${template.labels}&template=${template.template}`}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-primary btn-sm"
              >
                Use Template
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="divider">OR</div>

    <div class="card bg-base-200">
      <div class="card-body items-center text-center">
        <h2 class="card-title text-2xl">Create a Blank Issue</h2>
        <p class="text-base-content/80 mb-4">
          For issues that don't fit the above templates, create a blank issue.
        </p>
        <a
          href="https://github.com/cywf/sentinel-project/issues/new"
          target="_blank"
          rel="noopener noreferrer"
          class="btn btn-outline btn-primary"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
          </svg>
          Create Blank Issue
        </a>
      </div>
    </div>

    <div class="alert alert-info mt-8">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      <div>
        <h3 class="font-bold">Before creating an issue</h3>
        <div class="text-sm">
          Please search existing issues to avoid duplicates. For security vulnerabilities, 
          refer to our <a href="https://github.com/cywf/sentinel-project/blob/main/SECURITY.md" target="_blank" rel="noopener noreferrer" class="link">Security Policy</a> first.
        </div>
      </div>
    </div>
  </div>
</Layout>
